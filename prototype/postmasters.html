<!DOCTYPE html>
<!--
    @author Bryan Haberberger
    https://github.com/thehabes
-->
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!-- <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
         integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
         crossorigin=""/> -->

        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" integrity="sha512-07I2e+7D8p6he1SIM+1twR5TIrhUQn9+I6yjqD53JQjFiMf8EtC93ty0/5vJTZGF8aAocvHYNEDJajGdNx1IsQ==" crossorigin="">
        <link rel="stylesheet" href="./marker-clustering/MarkerCluster.Default.css" />
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
        <script src="./marker-clustering/leaflet.markercluster-src.js"></script>
        <script src="./postmasters.js" type="module"></script>
        <link rel="stylesheet" href="./styling/inset.css" />
    </head>
    <body>
        <div class="row" id="kastorMap">
            <div class="col-12">
                <div class="slider-container is-hidden">
                    <div class="slider-controls">
                        <div id="instructionsContainer" class="">
                            <input id="instructions" type="button" class="button primary" value="how to use" onclick="openHowTo()" />
                        </div> 
                        <div class="inline year-dec" title="Move backward one year"> 
                            <span class="icon-fix">hack</span>
                            <img src="./images/map-icons/Fleur.de.lis.left.white.png" class="inline small-icon"/> 
                        </div> 
                        <h2 id="slider-value" class="inline">1829</h2> 
                        <div class="inline year-inc" title="Move forward one year">
                            <span class="icon-fix">hack</span>
                            <img src="./images/map-icons/Fleur.de.lis.right.white.png" class="inline small-icon"/> 
                        </div>
                        <div id="resetContainer" class="">
                            <input id="resetView" type="button" class="button primary" value="see all locations" />
                        </div>   
                    </div>
                    <div class="slide"> 
                        <h4 class="inline">1789</h4>
                        <input id="timeSlider" class="inline" type="range"  min="1789" max="1829" value="1829" step="1">
                        <h4 class="inline">1829</h4>
                    </div>
                </div>
                <div id="leafletInstanceContainer">
                    <div id="loadingMessage" style="text-align: center;">
                        Gathering Federal Employee Data...<br>
                    </div> 
                    <div id="kastorMapLegend" class="is-hidden">
                        <h5>Legend</h5>
                        <!-- <h7>Location Colors</h7> -->
                        <ul>
                            <li><span style="color:blue;">Location</span></li>
                            <li><span style="color:yellow;">Lighthouse</span></li>
                            <li><span style="color:lightgrey;">Building</span></li>
                            <li><span style="color:#008080;">Maritime Station</span></li>
                            <li><span style="color:pink;">State</span></li>
                            <li><span style="color:#7A55A6;">Non U.S. Location</span></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div id="howToContainer" class="is-hidden">
                <div id="howTo" class="">
                    <input id="closeHowTo" class="button primary" value="close" onclick="closeHowTo(event)" />
                    <h2>How to use this map</h2>
                    <p>This map visualizes the locations where federal employees did their work. It is built on a series of layers, which you can choose by selecting <span class="layersIcon"></span> in the top right of the map.  Each layer is independent of the others, so you can see multiple layers at once or just a single layer.  This does mean that if you want to only one layer, you will need to turn off any other layers.</p>
                    <p>You can zoom in or out by using <span class="zoomIcon"></span> in the bottom right corner or scrolling on your mouse.</p> 
                    <p>You can also move through time.  The number at the top center of the map shows the specific year.  The map will launch by showing the location of federal offices in 1829.  You can select other years either by dragging the circle in the middle of the scrollbar near the top of the map or by clicking the arrows to either side of the current year.  You can also select “Show all locations” to every location from 1789-1829.</p>
                    <p>You can click on individual locations, court jurisdictions, or tax collection districts to see additional information, including links to the people who worked in those places.</p>
                    <p>You can adjust the following layers:</p>
                    <ul>
                        <li><a href="#Locations">Locations</a></li>
                        <li><a href="#Districts">Judicial Districts</a></li>
                        <li><a href="#Circuits">Judicial Circuits</a></li>
                        <li><a href="#Postmasters">Postmasters heatmap</a></li>
                        <li><a href="#TaxDistricts">1798 and 1814 Tax Districts</a></li>
                        <li><a href="#States">States & Territories</a></li>
                        <li><a href="#Basemaps">Basemaps</a></li>
                    </ul>
                    <p id="Locations"><h3>Locations</h3></p>
                    <p>This layer shows individual places (cities and towns, buildings, and maritime locations).  How this material appears will change as you zoom in and out.  
                    When you first connect to the map, you will be at the greatest distance, and locations are clustered together into groups represented by circles with a number indicating how many locations are in that circle. <span class="clusterIcon"></span>
                    As you zoom in, clusters will change to individual locations, represented by colored dots indicating the type of location. <span class="locationsIcon"></span>
                    At maximum zoom, the dots will change to icons, each representing the type of location.<span class="iconsIcon"></span></p>

                    <p id="Districts"><h3>Federal Judicial Districts</h3></p>
                    <p>The United States was organized into a series of district courts that served as the foundation of the federal judicial system.  Their jurisdiction was limited, and their cases consisted primarily of issues in maritime law.</p>

                    <p>Established in 1789, each state constituted a judicial district, so their boundaries were the same.  The only exceptions were Maine (a region within Massachusetts) and Kentucky (a region within Virginia), each of which were separate judicial districts.  Congress eventually divided some states into multiple judicial districts.  Most federal territories did not have federal district courts.  As a result, the district court map looks similar but not identical to a map of the states and territories of the United States.</p>

                    <p id="Circuits"><h3>Federal Judicial Circuits</h3></p>
                    <p>Circuit courts had their own legal jurisdiction and also heard cases appealed from the district courts.</p>

                    <p>Each circuit consisted of several states, and the composition changed over time in response to population shifts, the creation of new states, and efforts to reorganize the federal judiciary.  Each circuit court initally consisted of two justices from the Supreme Court and a district court judge.  Supreme Court Justices soon complained about the difficulties of riding circuit, and in 1793 Congress revised the law to require only a single Supreme Court Justice along with a District Court Judge.  Circuit courts did not have their own designated judges, except for the period from 1801-1802 when the U.S. experimented with appointing circuit court judges.  As a result, this layer shows the various circuits, but does not link to lists of individual judges.</p>

                    <p id="Postmasters"><h3>Postmasters Heatmap</p></h3>
                    <p>This layer represents the distribution of U.S. postmasters.  While post offices did have designated locations, many of those locations were towns, businesses, or other places that no longer exist.  As a result, post offices are mapped by the counties in which they were located.</p>

                    <p>Each county has a different color to reflect the number of postmasters in that county in a given year.  You can click on any county to see additional information as well as a link to the people who worked there.</p>

                    <p id="TaxDistricts"><h3>1798 and 1814 Tax Districts</h3></p>
                    <p>In 1798 and in 1814, the federal government established a series of direct taxes.  These taxes emerged from military costs: an undeclared naval war with France in 1798 that included the mobilization of both the army and the navy; and the War of 1812.  In both cases, Congress divided the individual states into individual tax collection districts and appointed officials with the unenviable task of collecting those taxes.</p>

                    <p id="States"><h3>State and Territorial Boundaries</h3></p>
                    <p>This layer shows the primary internal organization within the United States, with boundaries changing year to year.  It’s important to note that these boundaries reflect the territorial claims of the United States.  It includes land that other governments had not ceded and continued to control, including both native American societies and European empires.</p>

                    <p id="Basemaps"><h3>Basemaps</h3></p>
                    <p>Every layer of data sits atop a basemap that shows the global landscape.  Each basemap has its own benefits.  This map includes three basemaps, each of which has different information and color contrasts.  These basemaps have the additional benefit of containing very little of the information from current society that fills most digital maps (highways and roads, cities and towns, state and national boundaries).  This project describes an era before many of those places took their current form, or before changes the landscape existed.</p>

                    <p> 
                        The map defaults to showing every location from 1789-1829, and you can always restore this default by selecting “SEE ALL LOCATIONS” to the right of the time slider.
                    </p>

                    <p> Location Icons </p>
                    <ul>
                        <li class="legendIcon"><span>Capital (capital of the United States, located in New York, NY, from 1789-1790; Philadelphia, PA, from 1791-1800; Washington, DC, from 1801-1829)</span>: <i class="star-icon"></i></li>
                        <li class="legendIcon"><span>Location (town, city, or other population center)</span>: <i class="u-icon"></i></li>
                        <li class="legendIcon"><span>Lighthouse (individual lighthouse)</span>: <i class="l-icon"></i></li>
                        <li class="legendIcon"><span>Building (building, fort, or similar structure)</span>: <i class="b-icon"></i></li>
                        <li class="legendIcon"><span>Maritime Station (location for U.S. vessels on a waterway or near a port)</span>: <i class="m-icon"></i></li>
                        <li class="legendIcon"><span>State (U.S. states for those offices that exercised state-wide jurisdiction without a known or designated meeting place)</span>: <i class="s-icon"></i></li>
                        <li class="legendIcon"><span>Non-U.S. Location (city, town, or other population center located outside the spaces claimed or controlled by the United States)</span>: <i class="n-icon"></i></li>
                    </ul>
                </div>
            </div>
        </div>
        <script>
            function closeHowTo(event){
                howToContainer.classList.add("is-hidden")
            }

            function openHowTo(event){
                howToContainer.classList.remove("is-hidden")
            }
        </script>
    </body>
</html>
