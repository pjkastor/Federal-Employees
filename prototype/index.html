<!DOCTYPE html>
<!--
    @author Bryan Haberberger
    https://github.com/thehabes
-->
<html>

<head>
    <title>BFG: Map</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/chota@latest">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" integrity="sha512-07I2e+7D8p6he1SIM+1twR5TIrhUQn9+I6yjqD53JQjFiMf8EtC93ty0/5vJTZGF8aAocvHYNEDJajGdNx1IsQ==" crossorigin="">
    <link rel="stylesheet" href="./marker-clustering/MarkerCluster.Default.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="./marker-clustering/leaflet.markercluster-src.js"></script>
    <script src="./app.js" type="module"></script>
    <link rel="stylesheet" href="./app.css" />
</head>

<body>
    <header>
        TODO
    </header>
    <div class="container">
        <p>
            For more information see the <a class="text-bold" target="_blank" href="https://habesoftware.rocks/TODO#readme"> Readme</a>.
        </p>
    </div>
    <div class="slider-container is-hidden">
        <div class="slider-controls">
            <div class="inline year-dec"> << </div> <h5 id="slider-value" class="inline">N/A</h5> <div class="inline year-inc"> >> </div>
        </div>
        <div class="slide"> 
            <h5 class="inline">1789</h5>
            <input id="timeSlider" class="inline" type="range"  min="1789" max="1832" value="1832" step="1">
            <h5 class="inline">1832</h5>
        </div>
    </div>
    <div id="viewerBody" class="container">
        <p>
            Explain some about what this viewer is.
        </p>
        <p>
            Perhaps some other directions too.
        </p>
        <div id="leafletInstanceContainer">
            <div id="loadingMessage" style="text-align: center;">Gathering Federal Employee Data...<br></div>
        </div>
    </div>
    <div class="container" style="margin-top: 1em;">
        <div class="row">
            <ul class="howTo col-2">
                <h5>Color Legend</h5>
                <li><span style="color:blue;">Type 1</span>: Blue</li>
                <li><span style="color:purple;">Type 2</span>: Purple</li>
                <li><span style="color:yellow;">Type 3</span>: Yellow</li>
                <li><span style="color:#008080;">Type 4</span>: Teal</li>
                <li><span style="color:red;">Unknown</span>: Red</li>
            </ul>
            <div id="options" class="col-10">
                <h6>Here are some filters or other fun options to apply to the map.</h6>
                <p class="howTo">
                    Some text for this option. Check to apply.<br>
                    <b>Show this stuff</b>: <input id="option1" type="checkbox" />
                </p>
                <p class="howTo">
                    Some text for this option. Check to apply.<br>
                    <b>Show this stuff</b>: <input id="option2" type="checkbox" />
                </p>
                <input id="loadInput" type="button" onclick="loadURI(event)" value="Apply Options" />
                <input type="button" onclick="startOver(event)" value="Start Over" />
            </div>
        </div>
    </div>
    <footer class="nav nav-center text-primary is-fixed is-full-width, is-vertical-align">
        <div>
            <a target="_blank" href="https://habesoftware.rocks/TODO">
                <img class="brand" src="https://habesoftware.rocks/TODO" /> <small>&copy;2023 Habes Software </small>
            </a>
        </div>
        <div>
            <a target="_blank" href="https://habesoftware.rocks/TODO">
                <img class="brand" src="https://habesoftware.rocks/TODO" /> <small> Map TODO </small>
            </a>
        </div>
        <div>
            <a target="_blank" href="https://habesoftware.rocks/TODO">
                <img class="brand" src="https://habesoftware.rocks/TODO" /> <small> Washington University in Saint Louis </small>
            </a>
        </div>
    </footer>
</body>
<script>
function startOver() {
    window.location = window.location.origin + window.location.pathname
}

function getURLParameter(variable) {
    var query = window.location.search.substring(1);
    var vars = query.split("&");
    for (var i = 0; i < vars.length; i++) {
        var pair = vars[i].split("=");
        if (pair[0] == variable) { return pair[1]; }
    }
    return (false);
}

function loadURI() {
    let url = resourceURI.value ? resourceURI.value : getURLParameter("data-param")
    if (url) {
        let contentState = "?data-param=" + url
        url = window.location.href.split('?')[0] + contentState
        window.location = url
    }
}

/**
 * Helps with initial orientation on page loads
 */
window.onbeforeunload = function() {
    window.scrollTo(0, 0);
}
</script>

</html>