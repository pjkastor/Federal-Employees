<!DOCTYPE html>
<!--
    @author Bryan Haberberger
    https://github.com/thehabes
-->
<html>
    <head>
        <title>BFG: Map</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://unpkg.com/chota@latest">
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css"
           integrity="sha512-hoalWLoI8r4UszCkZ5kL8vayOGVae1oxXe/2A4AO6J9+580uKHDO3JdHb7NzwwzK5xr/Fs0W40kiNHxM9vyTtQ=="
           crossorigin=""/>
        <script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js"
           integrity="sha512-BB3hKbKWOc9Ez/TAwyWxNXeoV9c1v6FIeYiBieIWkpLjauysF18NzgR1MBNBXf8/KABdlkX68nAhlwcDFLGPCQ=="
           crossorigin=""></script>
        <script src="./app.js" type="module"></script>
        <link rel="stylesheet" href="./app.css" />
        <link rel="icon" type="image/x-icon" href="./images/globeicon.png">
    </head>
    <body>
        <header>
            TODO
        </header>
        <div class="container">
            <p> 
                For more information see the <a class="text-bold" target="_blank" href="https://habesoftware.rocks/TODO#readme"> Readme</a>.
            </p>
        </div>
        <div id="viewerBody" class="container is-hidden">
            <p>
                Explain some about what this viewer is.
            </p>
            <p> 
                Perhaps some other directions too.
            </p>
            <div id="leafletInstanceContainer">
                <div id="loadingMessage" style="text-align: center;">Gathering Resource Data...</div>
            </div>
        </div>
        <div class="container" style="margin-top: 1em;">
            <div class="row">
                <ul class="howTo col-2">
                    <h5>Color Legend</h5>
                    <li><span style="color:blue;">Type 1</span>: Blue</li>
                    <li><span style="color:purple;">Type 2</span>: Purple</li>
                    <li><span style="color:yellow;">Type 3</span>: Yellow</li>
                    <li><span style="color:#008080;">Type 4</span>: Teal</li>
                    <li><span style="color:red;">Unknown</span>: Red</li>
                </ul>
                <div id="options" class="col-10">
                    <h6>Here are some filters or other fun options to apply to the map.</h6>
                    <p class="howTo">
                        Some text for this option.  Check to apply.<br> 
                        <b>Show this stuff</b>: <input id="option1" type="checkbox"/>
                    </p>
                    <p class="howTo">
                        Some text for this option.  Check to apply.<br>
                        <b>Show this stuff</b>: <input id="option2" type="checkbox"/>
                    </p>
                    <input id="loadInput" type="button" onclick="loadURI(event)" value="Load Resource" />
                    <input type="button" onclick="startOver(event)" value="Start Over" />
                </div>
            </div>
        </div>
        <footer class="nav nav-center text-primary is-fixed is-full-width, is-vertical-align">
            <div>
                <a target="_blank" href="https://habesoftware.rocks/TODO">
                    <img class="brand" src="https://habesoftware.rocks/TODO"/> <small>&copy;2023 Habes Software </small>
                </a>
            </div>
            <div>
                <a target="_blank" href="https://habesoftware.rocks/TODO">
                    <img class="brand" src="https://habesoftware.rocks/TODO"/> <small> Map TODO </small>
                </a>
            </div>
            <div>
                <a target="_blank" href="https://habesoftware.rocks/TODO">
                    <img class="brand" src="https://habesoftware.rocks/TODO"/> <small> Washington University in Saint Louis </small>
                </a>
            </div>
        </footer>
    </body>
    <script>
        function startOver(){
            window.location = window.location.origin + window.location.pathname
        }

        function getURLParameter(variable) {
            var query = window.location.search.substring(1);
            var vars = query.split("&");
            for (var i = 0; i < vars.length; i++) {
                var pair = vars[i].split("=");
                if (pair[0] == variable) { return pair[1]; }
            }
            return (false);
        }

        function loadURI(){
            let url = resourceURI.value ? resourceURI.value : getURLParameter("data-param")
            if(url){
                let contentState = "?data-param="+url
                url = window.location.href.split('?')[0] + contentState
                window.location = url
            }
        }

        /**
         * Helps with initial orientation on page loads
         */     
        window.onbeforeunload = function () {
            window.scrollTo(0,0);
        }

        
    </script>
</html>
